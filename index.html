<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Tech‚ÄëTrollh√§ttan ‚Äì Interactive Mockup
  </title>
  <style>
   /* ===== Base / Tokens ===== */
    :root{
      --bg: #f8fafc;           /* neutral-50 */
      --surface:#ffffff;        /* white */
      --text:#111827;           /* neutral-900 */
      --muted:#4b5563;          /* neutral-600 */
      --border:#e5e7eb;         /* neutral-200 */
      --brand:#059669;          /* emerald-600 */
      --brand-700:#047857;      /* emerald-700 */
      --ring:#10b981;           /* emerald-500 */
      --accent:#0ea5e9;         /* sky-500 */
    }
    *,*::before,*::after{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;line-height:1.5}
    img{max-width:100%;display:block}
    a{color:var(--brand)}
    a:focus-visible, button:focus-visible{outline:2px solid var(--ring);outline-offset:2px}
    .container{max-width:72rem;margin-inline:auto;padding-inline:1rem}
    .prose{max-width:72ch}
    h1{font-size:clamp(1.8rem,2.5vw+1rem,3rem);line-height:1.2;margin:.2rem 0 .6rem}
    h2{font-size:clamp(1.4rem,1.2vw+1rem,2rem);line-height:1.25;margin:.2rem 0 .4rem}
    h3{font-size:1.1rem;margin:.2rem 0}
    /* ===== Header / Nav ===== */
    header{position:sticky;top:0;z-index:40;background:rgba(255,255,255,.85);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid var(--border)}
    .navwrap{height:64px;display:flex;align-items:center;justify-content:space-between}
    .brand{font-weight:700;border-radius:.25rem;padding:.25rem}
    nav ul{list-style:none;margin:0;padding:0;display:flex;gap:1.25rem}
    nav button{background:none;border:0;color:#374151;cursor:pointer}
    nav button:hover{color:#111827}
    .hamburger{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:.5rem;border:0;background:transparent}
    .mobilemenu{border-top:1px solid var(--border);background:#fff;display:none}
    .mobilemenu.open{display:block}
    .mobilemenu ul{list-style:none;margin:0;padding:.25rem 1rem}
    .mobilemenu li button{display:block;width:100%;text-align:left;padding:12px;border:0;background:none;border-radius:.5rem}
    .mobilemenu li button:hover{background:#f3f4f6}
    @media (min-width: 768px){
      .desktopnav{display:block}
      .hamburger,.mobilemenu{display:none}
    }
    /* ===== Sections ===== */
    section{padding-block:2.5rem}
    .actions{display:flex;flex-wrap:wrap;gap:.75rem}
    .btn{display:inline-flex;align-items:center;gap:.5rem;padding:.8rem 1rem;border-radius:1rem;border:1px solid var(--border);background:#fff;color:#111827;min-height:44px;text-decoration:none}
    .btn.primary{background:var(--brand);color:#fff;border-color:transparent}
    .btn.primary:hover{background:var(--brand-700)}
    .btn:hover{background:#f9fafb}
    /* ===== Grid / Cards ===== */
    .grid{display:grid;gap:1rem}
    @media (min-width: 640px){.grid.sm-2{grid-template-columns:repeat(2,1fr)}}
    @media (min-width: 1024px){.grid.lg-3{grid-template-columns:repeat(3,1fr)}}
    .card{background:#fff;border:1px solid var(--border);border-radius:1rem;padding:1rem;position:relative}
    .card button.cardbtn{all:unset;display:block;cursor:pointer}
    .card .row{display:flex;gap:.75rem;align-items:flex-start}
    .iconbox{display:grid;place-items:center;width:48px;height:48px;border:1px solid var(--border);border-radius:.75rem;background:#ecfdf5;color:var(--brand)}
    .tag{display:inline-flex;font-size:.75rem;border:1px solid var(--border);border-radius:999px;padding:.25rem .5rem;background:#fafafa}
    .card:hover::after{content:"";position:absolute;inset:0;border:2px solid rgba(16,185,129,.6);border-radius:1rem;pointer-events:none}
    /* ===== Timeline ===== */
    .timeline{position:relative;background:#fff;border:1px solid var(--border);border-radius:1.5rem;padding:1.25rem}
    .timeline::before{content:"";position:absolute;left:140px;top:1rem;bottom:1rem;width:1px;background:var(--border)}
    .timeline-item{display:grid;grid-template-columns:140px 1fr;gap:1rem;padding:.5rem 0}
    .year{color:var(--brand);font-weight:600}
    /* ===== Map ===== */
    .mapwrap{position:relative;background:#fff;border:1px solid var(--border);border-radius:1.5rem;overflow:hidden}
    .tooltip{position:absolute;background:var(--brand);color:#fff;padding:.35rem .6rem;border-radius:.4rem;font-size:.85rem;box-shadow:0 4px 16px rgba(0,0,0,.12);pointer-events:none}
    .mapbtn{cursor:pointer}
    /* ===== Modal ===== */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;z-index:60}
    .overlay.open{display:block}
    .modal{position:fixed;left:50%;transform:translateX(-50%);bottom:1.5rem;width:min(92vw,720px);background:#fff;border:1px solid var(--border);border-radius:1rem;box-shadow:0 20px 40px rgba(0,0,0,.16);padding:1rem;z-index:70;display:none}
    .modal.open{display:block}
    .modal .head{display:flex;justify-content:space-between;align-items:flex-start;gap:.75rem}
    .close{border:0;background:transparent;border-radius:.5rem;padding:.5rem;cursor:pointer}
    .close:hover{background:#f3f4f6}
    /* ===== Footer ===== */
    footer{border-top:1px solid var(--border);background:#fff}
    .foot{display:flex;flex-direction:column;gap:.75rem;padding-block:1.25rem}
    @media (min-width:640px){.foot{flex-direction:row;align-items:center;justify-content:space-between}}
    /* Utility */
    .mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}
    .mb-6{margin-bottom:1.5rem}
  </style>
 </head>
 <body>
  <a class="sr-only" href="#places" style="position:absolute;inset:auto auto auto 8px;background:#fff;border:1px solid var(--border);padding:.4rem .6rem;border-radius:.5rem;clip-path:inset(50%)">
   Skip to content
  </a>
  <header>
   <div class="container navwrap">
    <button class="brand" data-goto="places">
     Tech‚ÄëTrollh√§ttan
    </button>
    <nav aria-label="Main menu" class="desktopnav">
     <ul>
      <li>
       <button data-goto="places">
        Places
       </button>
      </li>
      <li>
       <button data-goto="history">
        History
       </button>
      </li>
      <li>
       <button data-goto="today">
        Today
       </button>
      </li>
      <li>
       <button data-goto="museums">
        Museums &amp; Heritage
       </button>
      </li>
      <li>
       <button data-goto="map">
        Map
       </button>
      </li>
      <li>
       <button data-goto="resources">
        Resources
       </button>
      </li>
     </ul>
    </nav>
    <button aria-controls="mobilemenu" aria-expanded="false" aria-label="Open menu" class="hamburger">
     ‚ò∞
    </button>
   </div>
   <div aria-label="Main menu mobile" class="mobilemenu" id="mobilemenu">
    <ul>
     <li>
      <button data-goto="places">
       Places
      </button>
     </li>
     <li>
      <button data-goto="history">
       History
      </button>
     </li>
     <li>
      <button data-goto="today">
       Today
      </button>
     </li>
     <li>
      <button data-goto="museums">
       Museums &amp; Heritage
      </button>
     </li>
     <li>
      <button data-goto="map">
       Map
      </button>
     </li>
     <li>
      <button data-goto="resources">
       Resources
      </button>
     </li>
    </ul>
   </div>
  </header>
  <main>
   <section class="container" id="intro" style="padding-top:1.5rem">
    <h1>
     A fact‚Äëbased overview of Trollh√§ttan‚Äôs technical and industrial heritage
    </h1>
    <p class="prose">
     This mockup brings together key places, a timeline of industrial milestones, and today‚Äôs innovation environments. Content is grounded in local resources and open data.
    </p>
    <div class="actions mt-4">
     <a class="btn primary" href="#history">
      View timeline ‚ûú
     </a>
     <a class="btn" href="#map">
      Open map üìç
     </a>
    </div>
   </section>
   <!-- Places -->
   <section class="container" id="places">
    <header class="mb-6">
     <h2>
      Key historical places
     </h2>
     <p class="prose">
      Click a card to open a short description. (Visual feedback on hover/click)
     </p>
    </header>
    <div class="grid sm-2 lg-3">
     <!-- Locks & G√∂ta River -->
     <article class="card">
      <button class="cardbtn" data-modal-body="Trollh√§tte Canal and locks are Sweden‚Äôs oldest major lock system. The area around the G√∂ta River rapids was developed from the 18th century, shaping the city‚Äôs industrial/technical profile. The current locks were inaugurated in 1844 and a new channel was completed in 1916." data-modal-title="Locks &amp; G√∂ta River">
       <div class="row">
        <div aria-hidden="" class="iconbox">
         ‚õµ
        </div>
        <div>
         <h3>
          Locks &amp; G√∂ta River
         </h3>
         <p class="prose">
          Sweden‚Äôs oldest major lock system. 18th‚Äëcentury developments; locks 1844; new channel 1916.
         </p>
         <span class="tag mt-2">
          18th c. ‚Ä¢ 1844 ‚Ä¢ 1916
         </span>
        </div>
       </div>
      </button>
     </article>
     <!-- Olidan & H√•jum -->
     <article class="card">
      <button class="cardbtn" data-modal-body="Olidan (opened 1910) was Sweden‚Äôs first large‚Äëscale hydroelectric power plant for electricity production. The national project took ~14 years to build and relied on local industrial expertise, especially from NOHAB." data-modal-title="Olidan &amp; H√•jum Power Stations">
       <div class="row">
        <div aria-hidden="" class="iconbox">
         ‚ö°
        </div>
        <div>
         <h3>
          Olidan &amp; H√•jum Power Stations
         </h3>
         <p class="prose">
          Olidan (1910) ‚Äì Sweden‚Äôs first major hydro plant; built over ~14 years with local expertise (NOHAB).
         </p>
         <span class="tag mt-2">
          Hydropower ‚Ä¢ 1910
         </span>
        </div>
       </div>
      </button>
     </article>
     <!-- Innovatum / NOHAB -->
     <article class="card">
      <button class="cardbtn" data-modal-body="Former NOHAB engineering works. Today a hub for technology, innovation and culture, housing Innovatum Science Center, museums and business parks." data-modal-title="Innovatum District (NOHAB)">
       <div class="row">
        <div aria-hidden="" class="iconbox">
         üè≠
        </div>
        <div>
         <h3>
          Innovatum District (NOHAB)
         </h3>
         <p class="prose">
          From heavy engineering to a modern hub for technology, innovation and culture.
         </p>
         <span class="tag mt-2">
          NOHAB ‚Ä¢ Industrial heritage
         </span>
        </div>
       </div>
      </button>
     </article>
     <!-- Andersinska House -->
     <article class="card">
      <button class="cardbtn" data-modal-body="Trollh√§ttan‚Äôs oldest preserved residential building from the 18th century, adjacent to historic industrial areas." data-modal-title="Andersinska House (Nordkap)">
       <div class="row">
        <div aria-hidden="" class="iconbox">
         üèõÔ∏è
        </div>
        <div>
         <h3>
          Andersinska House (Nordkap)
         </h3>
         <p class="prose">
          Oldest preserved residence (18th c.), right by the historic industrial zones.
         </p>
         <span class="tag mt-2">
          18th c. ‚Ä¢ Heritage
         </span>
        </div>
       </div>
      </button>
     </article>
    </div>
   </section>
   <!-- History / Timeline -->
   <section class="container" id="history">
    <header class="mb-6">
     <h2>
      Technical &amp; industrial history
     </h2>
     <p class="prose">
      Hydropower, heavy engineering (NOHAB), aviation/automotive (Saab ‚Üí GKN) and the film industry (Trollywood).
     </p>
    </header>
    <div class="timeline">
     <div class="timeline-item">
      <div class="year">
       18th century
      </div>
      <div class="prose">
       Development around the G√∂ta River rapids lays the foundation for an industrial city.
      </div>
     </div>
     <div class="timeline-item">
      <div class="year">
       1844
      </div>
      <div class="prose">
       The current locks are inaugurated.
      </div>
     </div>
     <div class="timeline-item">
      <div class="year">
       1910
      </div>
      <div class="prose">
       Olidan power station starts operation ‚Äì Sweden‚Äôs first major hydro plant.
      </div>
     </div>
     <div class="timeline-item">
      <div class="year">
       1916
      </div>
      <div class="prose">
       New lock channel completed.
      </div>
     </div>
     <div class="timeline-item">
      <div class="year">
       1847‚Üí
      </div>
      <div class="prose">
       NOHAB founded: steam locomotives, water turbines, armaments; major export orders help weather the 1920s downturn.
      </div>
     </div>
     <div class="timeline-item">
      <div class="year">
       1947
      </div>
      <div class="prose">
       First Saab car presented; automotive and aviation grow out of NOHAB‚Äôs legacy (‚Üí today‚Äôs GKN).
      </div>
     </div>
     <div class="timeline-item">
      <div class="year">
       1990s‚Üí
      </div>
      <div class="prose">
       Film i V√§st established ‚Äì ‚ÄòTrollywood‚Äô emerges.
      </div>
     </div>
    </div>
   </section>
   <!-- Today -->
   <section class="container" id="today">
    <header class="mb-6">
     <h2>
      Today‚Äôs tech &amp; innovation
     </h2>
     <p class="prose">
      Examples of actors and environments in and around Trollh√§ttan.
     </p>
    </header>
    <div class="grid sm-2 lg-3">
     <article class="card">
      <div class="row">
       <div aria-hidden="" class="iconbox">
        üöÄ
       </div>
       <div>
        <h3>
         GKN Aerospace
        </h3>
        <p class="prose">
         Continuing the tradition of advanced aero/space engineering rooted in the city‚Äôs flygmotor heritage. Activities include materials, engines and manufacturing innovation.
        </p>
        <div class="mt-2" style="display:flex;justify-content:space-between;align-items:center;gap:.5rem">
         <span class="tag">
          Aerospace
         </span>
         <button class="btn" data-modal-body="GKN Aerospace continues Trollh√§ttan‚Äôs legacy in aviation and space. Focus areas include advanced materials, engines and production technology, often in collaboration with academia and regional partners." data-modal-title="GKN Aerospace">
          Read more ‚ûú
         </button>
        </div>
       </div>
      </div>
     </article>
     <article class="card">
      <div class="row">
       <div aria-hidden="" class="iconbox">
        üéì
       </div>
       <div>
        <h3>
         University West
        </h3>
        <p class="prose">
         Research and education in production technology, robotics and Work‚ÄëIntegrated Learning, with strong ties to local industry and societal sustainability.
        </p>
        <div class="mt-2" style="display:flex;justify-content:space-between;align-items:center;gap:.5rem">
         <span class="tag">
          Academia
         </span>
         <button class="btn" data-modal-body="University West (H√∂gskolan V√§st) connects research and industry through Work‚ÄëIntegrated Learning. Areas include production technology, robotics, welding, and social sustainability." data-modal-title="University West">
          Read more ‚ûú
         </button>
        </div>
       </div>
      </div>
     </article>
     <article class="card">
      <div class="row">
       <div aria-hidden="" class="iconbox">
        üí°
       </div>
       <div>
        <h3>
         Tech &amp; Innovation Clusters
        </h3>
        <p class="prose">
         Collaborations and companies in environmental tech, smart energy and creative industries. See the municipality‚Äôs business pages for initiatives and support.
        </p>
        <div class="mt-2" style="display:flex;justify-content:space-between;align-items:center;gap:.5rem">
         <span class="tag">
          Innovation
         </span>
         <button class="btn" data-modal-body="The Trollh√§ttan area gathers companies and initiatives in cleantech, smart energy, digitalisation and creative industries, supported by local incubators and business development programs." data-modal-title="Tech &amp; Innovation Clusters">
          Read more ‚ûú
         </button>
        </div>
       </div>
      </div>
     </article>
     <article class="card">
      <div class="row">
       <div aria-hidden="" class="iconbox">
        üé¨
       </div>
       <div>
        <h3>
         Film i V√§st / ‚ÄòTrollywood‚Äô
        </h3>
        <p class="prose">
         Sweden‚Äôs film capital: production company, studios and regional investments that earned Trollh√§ttan the nickname ‚ÄòTrollywood‚Äô.
        </p>
        <div class="mt-2" style="display:flex;justify-content:space-between;align-items:center;gap:.5rem">
         <span class="tag">
          Creative industry
         </span>
         <button class="btn" data-modal-body="Film i V√§st and studio facilities have turned Trollh√§ttan into ‚ÄòTrollywood‚Äô, a hub for Swedish filmmaking with numerous national and international productions." data-modal-title="Film i V√§st / ‚ÄòTrollywood‚Äô">
          Read more ‚ûú
         </button>
        </div>
       </div>
      </div>
     </article>
    </div>
   </section>
   <!-- Museums & Heritage -->
   <section class="container" id="museums">
    <header class="mb-6">
     <h2>
      Local museums, heritage &amp; education
     </h2>
     <p class="prose">
      Destinations and institutions connected to industry, history and learning.
     </p>
    </header>
    <div class="grid sm-2 lg-3">
     <a aria-label="Innovatum Science Center" class="card" href="#">
      <div class="row">
       <div aria-hidden="" class="iconbox">
        üî¨
       </div>
       <div>
        <h3>
         Innovatum Science Center
        </h3>
        <p class="prose">
         Exhibitions on technology, industry and sustainability; nearby testbeds and incubators.
        </p>
       </div>
      </div>
     </a>
     <a aria-label="Saab Car Museum" class="card" href="#">
      <div class="row">
       <div aria-hidden="" class="iconbox">
        üöó
       </div>
       <div>
        <h3>
         Saab Car Museum
        </h3>
        <p class="prose">
         Saab‚Äôs journey from aviation to automobiles.
        </p>
       </div>
      </div>
     </a>
     <a aria-label="Trollh√§ttan City Museum" class="card" href="#">
      <div class="row">
       <div aria-hidden="" class="iconbox">
        üèòÔ∏è
       </div>
       <div>
        <h3>
         Trollh√§ttan City Museum
        </h3>
        <p class="prose">
         Stories of the city and region: canal, locks and industries.
        </p>
       </div>
      </div>
     </a>
     <a aria-label="Photo &amp; Association Archive (prismavg)" class="card" href="https://prismavg.se/" rel="noreferrer" target="_blank">
      <div class="row">
       <div aria-hidden="" class="iconbox">
        üñºÔ∏è
       </div>
       <div>
        <h3>
         Photo &amp; Association Archive (prismavg)
        </h3>
        <p class="prose">
         Digitised photos, documents and local narratives.
        </p>
       </div>
      </div>
     </a>
     <a aria-label="University West" class="card" href="#">
      <div class="row">
       <div aria-hidden="" class="iconbox">
        üéì
       </div>
       <div>
        <h3>
         University West
        </h3>
        <p class="prose">
         Research/education in technology and social sustainability.
        </p>
       </div>
      </div>
     </a>
    </div>
   </section>
   <!-- Map -->
   <section class="container" id="map">
    <header class="mb-6">
     <h2>
      Interactive map (mockup)
     </h2>
     <p class="prose">
      Click a point to open a short description.
     </p>
    </header>
    <div class="mapwrap">
     <svg aria-label="Stylised map of Trollh√§ttan" id="svgmap" role="img" style="width:100%;height:clamp(18rem,40vw,24rem)" viewbox="0 0 800 420">
      <rect fill="#eef2ff" height="420" width="800" x="0" y="0">
      </rect>
      <!-- G√∂ta River path -->
      <path d="M100 0 C 200 120, 240 160, 260 210 C 280 260, 350 280, 420 300 C 520 330, 640 360, 800 420" fill="none" opacity="0.9" stroke="#60a5fa" stroke-width="22">
      </path>
      <!-- Points -->
      <g class="mapbtn" data-body="Trollh√§tte Canal and locks are Sweden‚Äôs oldest major lock system. Developed from the 18th century; locks 1844; new channel 1916." data-title="Locks &amp; G√∂ta River" tabindex="0" transform="translate(240,190)">
       <circle fill="#059669" r="10">
       </circle>
       <circle fill="none" opacity="0.6" r="18" stroke="#10b981" stroke-width="2">
       </circle>
      </g>
      <g class="mapbtn" data-body="Olidan (1910) ‚Äì Sweden‚Äôs first major hydro plant; built over ~14 years with local expertise (NOHAB)." data-title="Olidan &amp; H√•jum" tabindex="0" transform="translate(330,240)">
       <circle fill="#059669" r="10">
       </circle>
       <circle fill="none" opacity="0.6" r="18" stroke="#10b981" stroke-width="2">
       </circle>
      </g>
      <g class="mapbtn" data-body="Former NOHAB engineering works ‚Äì now a hub for technology, innovation and culture." data-title="Innovatum / NOHAB" tabindex="0" transform="translate(420,300)">
       <circle fill="#059669" r="10">
       </circle>
       <circle fill="none" opacity="0.6" r="18" stroke="#10b981" stroke-width="2">
       </circle>
      </g>
      <g class="mapbtn" data-body="Research and education in production technology, robotics and WIL." data-title="University West" tabindex="0" transform="translate(470,320)">
       <circle fill="#059669" r="10">
       </circle>
       <circle fill="none" opacity="0.6" r="18" stroke="#10b981" stroke-width="2">
       </circle>
      </g>
      <g class="mapbtn" data-body="Advanced aero/space engineering and manufacturing innovation." data-title="GKN Aerospace" tabindex="0" transform="translate(560,340)">
       <circle fill="#059669" r="10">
       </circle>
       <circle fill="none" opacity="0.6" r="18" stroke="#10b981" stroke-width="2">
       </circle>
      </g>
      <g class="mapbtn" data-body="Oldest preserved residence (18th c.), near historic industrial areas." data-title="Andersinska House" tabindex="0" transform="translate(280,220)">
       <circle fill="#059669" r="10">
       </circle>
       <circle fill="none" opacity="0.6" r="18" stroke="#10b981" stroke-width="2">
       </circle>
      </g>
     </svg>
     <div class="tooltip" hidden="" id="tooltip">
      Tooltip
     </div>
    </div>
   </section>
   <!-- Resources -->
   <section class="container" id="resources">
    <header class="mb-6">
     <h2>
      Digital resources &amp; open data
     </h2>
     <p class="prose">
      Use these sources to deepen the factual content.
     </p>
    </header>
    <ul class="prose" style="padding-left:1rem">
     <li>
      <a href="https://prismavg.se/" rel="noreferrer" target="_blank">
       prismavg.se
      </a>
      : Photo and story archive.
     </li>
     <li>
      <a href="https://www.trollhattan.se/startsida/kommun-och-politik/kommunfakta/trollhattans-historia/" rel="noreferrer" target="_blank">
       Trollh√§ttan history (municipality)
      </a>
     </li>
     <li>
      <a href="https://innovatumsciencecenter.se/kulturarv/trollhattans-historia/" rel="noreferrer" target="_blank">
       Innovatum heritage: Trollh√§ttan‚Äôs history
      </a>
     </li>
     <li>
      <a href="https://www.innovatum.se/wp-content/uploads/2014/05/kortnohabhistorik.pdf" rel="noreferrer" target="_blank">
       NOHAB history (PDF)
      </a>
     </li>
     <li>
      <a href="https://www.trollhattan.se/startsida/jobbochforetagande/darfor-trollhattan/" rel="noreferrer" target="_blank">
       Business &amp; tech (municipality)
      </a>
     </li>
    </ul>
   </section>
  </main>
  <footer>
   <div class="container foot">
    <p>
     ¬© 2025 Tech‚ÄëTrollh√§ttan
    </p>
    <nav aria-label="Footer links" style="display:flex;gap:1rem">
     <a href="#">
      Accessibility
     </a>
     <a href="#">
      Contact
     </a>
     <a href="#">
      About
     </a>
    </nav>
   </div>
  </footer>
  <!-- Modal / Overlay -->
  <div aria-hidden="true" class="overlay" id="overlay">
  </div>
  <div aria-describedby="modalbody" aria-labelledby="modaltitle" aria-modal="true" class="modal" id="modal" role="dialog">
   <div class="head">
    <h3 id="modaltitle" style="margin:0;font-size:1.1rem">
    </h3>
    <button aria-label="Close (Esc)" class="close">
     ‚úï
    </button>
   </div>
   <p class="prose mt-2" id="modalbody">
   </p>
  </div>
  <script>
   // ===== Helper: smooth goto =====
    document.querySelectorAll('[data-goto]').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const id = btn.getAttribute('data-goto');
        const el = document.getElementById(id);
        if(el){ el.scrollIntoView({behavior:'smooth', block:'start'}); }
        // close mobile menu if open
        const mm = document.getElementById('mobilemenu');
        if(mm && mm.classList.contains('open')) toggleMobileMenu(false);
      });
    });

    // ===== Mobile menu =====
    const hamb = document.querySelector('.hamburger');
    const mobile = document.getElementById('mobilemenu');
    function toggleMobileMenu(force){
      const open = typeof force==='boolean' ? force : !mobile.classList.contains('open');
      mobile.classList.toggle('open', open);
      hamb.setAttribute('aria-expanded', String(open));
      hamb.setAttribute('aria-label', open? 'Close menu':'Open menu');
    }
    hamb.addEventListener('click',()=>toggleMobileMenu());

    // ===== Modal logic =====
    const overlay = document.getElementById('overlay');
    const modal = document.getElementById('modal');
    const modaltitle = document.getElementById('modaltitle');
    const modalbody = document.getElementById('modalbody');
    const closeBtn = modal.querySelector('.close');
    let lastActive = null;

    function openModal(title, body){
      lastActive = document.activeElement;
      modaltitle.textContent = title;
      modalbody.textContent = body;
      overlay.classList.add('open');
      modal.classList.add('open');
      overlay.removeAttribute('aria-hidden');
      // focus title
      modaltitle.setAttribute('tabindex','-1');
      modaltitle.focus();
      setTimeout(()=>modaltitle.removeAttribute('tabindex'), 100);
    }
    function closeModal(){
      overlay.classList.remove('open');
      modal.classList.remove('open');
      overlay.setAttribute('aria-hidden','true');
      if(lastActive && lastActive.focus) lastActive.focus();
    }
    closeBtn.addEventListener('click', closeModal);
    overlay.addEventListener('click', closeModal);
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeModal(); });

    // Open modal from any card/button with data-modal-* attributes
    document.querySelectorAll('[data-modal-title]').forEach(el=>{
      el.addEventListener('click', ()=> openModal(el.getAttribute('data-modal-title'), el.getAttribute('data-modal-body')));
      el.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); openModal(el.getAttribute('data-modal-title'), el.getAttribute('data-modal-body')); } });
    });

    // ===== Map tooltip + modal =====
    const map = document.getElementById('svgmap');
    const tooltip = document.getElementById('tooltip');
    function positionTooltip(evt){
      const rect = map.getBoundingClientRect();
      const x = evt.clientX - rect.left + 10;
      const y = evt.clientY - rect.top - 10;
      tooltip.style.left = Math.max(8, Math.min(x, rect.width - 160)) + 'px';
      tooltip.style.top  = Math.max(8, y) + 'px';
    }
    map.querySelectorAll('.mapbtn').forEach(g=>{
      const title = g.getAttribute('data-title');
      const body  = g.getAttribute('data-body');
      g.addEventListener('mouseenter', (e)=>{
        tooltip.textContent = title;
        tooltip.hidden = false;
        positionTooltip(e);
      });
      g.addEventListener('mousemove', positionTooltip);
      g.addEventListener('mouseleave', ()=>{ tooltip.hidden = true; });
      g.addEventListener('click', ()=> openModal(title, body));
      g.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); openModal(title, body); }});
    });
  </script>
 </body>
</html>
